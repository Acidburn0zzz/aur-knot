diff --git a/src/dnssec/lib/binary.c b/src/dnssec/lib/binary.c
index 454dc5a..f462006 100644
--- a/src/dnssec/lib/binary.c
+++ b/src/dnssec/lib/binary.c
@@ -15,25 +15,21 @@
 */
 
 #include <assert.h>
-#include <nettle/base64.h>
 #include <string.h>
+#include <nettle/base64.h>
+#ifdef HAVE_NETTLE_VERSION_H
+#include <nettle/version.h>
+#endif
 
 #include "binary.h"
 #include "error.h"
 #include "shared.h"
 
-typedef
-#ifdef HAVE_NETTLE_VERSION_H
-	#include <nettle/version.h>
-	#if NETTLE_VERSION_MAJOR >= 3
-		size_t
-	#else
-		unsigned
-	#endif
+#if NETTLE_VERSION_MAJOR >= 3
+typedef size_t nettle_len;
 #else
-	unsigned
+typedef unsigned nettle_len;
 #endif
-nettle_len;
 
 static size_t base64_decode_raw(const uint8_t *src, size_t src_len,
 				uint8_t *dst, size_t dst_max_size)
